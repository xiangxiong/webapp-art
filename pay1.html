<script>
// /* eslint-disable no-undef */
function onBridgeReady(){
   WeixinJSBridge.invoke(
      'getBrandWCPayRequest', {
          "appId":"wxd78e408c5668f65f",     //公众号名称，由商户传入     
          "timeStamp":"1558615760",         //时间戳，自1970年以来的秒数     
          "nonceStr":"ad2cf404756642eab4577ae65a5c7d7a", //随机串     
          "package":"prepay_id=wx23234428735881ae4ecc898d2159101900",     
          "signType":"MD5",         //微信签名方式：     
          "paySign":"AA845CAF19A9C0AF6CC74D1BB1D038C4" //微信签名 
      },
      function(res){
         if(res.err_msg == "get_brand_wcpay_request:ok" ) {
            // 使用以上方式判断前端返回,微信团队郑重提示：
            // res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。
         }
   });
}

if(typeof WeixinJSBridge == "undefined"){
   if( document.addEventListener ) {
       document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
   }else if (document.attachEvent) {
       document.attachEvent('WeixinJSBridgeReady', onBridgeReady); 
       document.attachEvent('onWeixinJSBridgeReady', onBridgeReady);
   }
} else {
   onBridgeReady();
}
</script>


<!-- 

ppid
:
"wxd78e408c5668f65f"
code
:
"SUCCESS"
msg
:
"OK"
noncestr
:
"a8ccda8302c24518be14732a4bd23814"
package
:
"prepay_id=wx23204920243200d65202711b4424459000"
partnerid
:
1529794561
prepayid
:
"wx23204920243200d65202711b4424459000"
sign
:
"13218EFC839CE3BB33DDC5E8F427149B"
timestamp
:
1558615760 
-->